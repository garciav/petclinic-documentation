"use strict";(globalThis.webpackChunktemp_docs=globalThis.webpackChunktemp_docs||[]).push([[6010],{4793(e,n,a){a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"arquitectura","title":"arquitectura","description":"\u25cf Find source code files to understand project structure","source":"@site/docs/arquitectura.md","sourceDirName":".","slug":"/arquitectura","permalink":"/petclinic-documentation/docs/arquitectura","draft":false,"unlisted":false,"editUrl":"https://github.com/garciav/petclinic-documentation/tree/main/docs/arquitectura.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"api","permalink":"/petclinic-documentation/docs/api"}}');var s=a(4848),r=a(8453);const o={},t=void 0,c={},d=[{value:"Construcci\xf3n y Despliegue",id:"construcci\xf3n-y-despliegue",level:2},{value:"Build con Maven",id:"build-con-maven",level:3},{value:"Build con Gradle",id:"build-con-gradle",level:3},{value:"Crear Imagen Docker",id:"crear-imagen-docker",level:3},{value:"Ejecutar Aplicaci\xf3n",id:"ejecutar-aplicaci\xf3n",level:3},{value:"Propiedades de Configuraci\xf3n",id:"propiedades-de-configuraci\xf3n",level:2},{value:"Archivo: <code>application.properties</code>",id:"archivo-applicationproperties",level:3},{value:"Patterns y Mejores Pr\xe1cticas",id:"patterns-y-mejores-pr\xe1cticas",level:2},{value:"Patrones Utilizados",id:"patrones-utilizados",level:3},{value:"Mejores Pr\xe1cticas",id:"mejores-pr\xe1cticas",level:3},{value:"Puntos de Extensi\xf3n",id:"puntos-de-extensi\xf3n",level:2},{value:"Contacto y Referencias",id:"contacto-y-referencias",level:2}];function l(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:['\u25cf Find source code files to understand project structure\n$ find ./source-code -type f -name "',(0,s.jsx)(n.em,{children:'.java" -o -name "'}),'.xml" -o -name "*.properties" | head -30\n\u2514 31 lines...']}),"\n",(0,s.jsx)(n.p,{children:"\u25cf List directory source-code\n\u2514 25 files found"}),"\n",(0,s.jsx)(n.p,{children:'\u25cf List all Java source files\n$ find ./source-code/src/main/java -type f -name "*.java" | sort\n\u2514 24 lines...'}),"\n",(0,s.jsx)(n.p,{children:"\u25cf Read source-code/pom.xml lines 1-50\n\u2514 55 lines read"}),"\n",(0,s.jsx)(n.p,{children:"\u25cf Read source-code/readme.md\n\u2514 163 lines read"}),"\n",(0,s.jsx)(n.p,{children:"\u25cf List template files\n$ find ./source-code/src/main/resources/templates -type f | head -20\n\u2514 13 lines..."}),"\n",(0,s.jsx)(n.p,{children:"\u25cf View main application class\n$ cat ./source-code/src/main/java/org/springframework/samples/petclinic/PetClinicApplication.java\n\u2514 36 lines..."}),"\n",(0,s.jsx)(n.p,{children:"\u25cf Check database initialization\n$ ls -la ./source-code/src/main/resources/db/\n\u2514 8 lines..."}),"\n",(0,s.jsx)(n.p,{children:"Now I'll generate the architecture.md file based on my analysis:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"# Arquitectura de Spring PetClinic\n\n## Descripci\xf3n General\n\nSpring PetClinic es una aplicaci\xf3n web de demostraci\xf3n construida con **Spring Boot** que ilustra las mejores pr\xe1cticas en el desarrollo de aplicaciones modernas con el ecosistema de Spring. La aplicaci\xf3n simula una cl\xednica veterinaria donde se pueden gestionar propietarios, mascotas, veterinarios y citas.\n\n## Stack Tecnol\xf3gico\n\n### Backend\n- **Spring Boot 2.7.1**: Framework principal para la construcci\xf3n de la aplicaci\xf3n\n- **Spring Data JPA**: Acceso a datos y gesti\xf3n de persistencia\n- **Spring Web MVC**: Controladores web y manejo de solicitudes HTTP\n- **Spring Cache**: Cach\xe9 de datos en memoria\n- **Spring Boot Actuator**: Monitoreo y m\xe9tricas de la aplicaci\xf3n\n\n### Base de Datos\n- **H2** (por defecto): Base de datos en memoria para desarrollo\n- **MySQL**: Soporte para persistencia en MySQL\n- **PostgreSQL**: Soporte para persistencia en PostgreSQL\n\n### Frontend\n- **Thymeleaf**: Motor de plantillas para vistas\n- **Bootstrap 5.1.3**: Framework CSS para estilos responsive\n- **WebJars**: Gesti\xf3n de dependencias frontend\n\n### Build & Testing\n- **Maven**: Herramienta de construcci\xf3n principal\n- **Gradle**: Alternativa de construcci\xf3n\n- **JUnit**: Framework de testing\n- **Spring Boot Test**: Testing de integraci\xf3n\n\n## Estructura de Directorios\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"spring-petclinic/\n\u251c\u2500\u2500 src/main/java/org/springframework/samples/petclinic/\n\u2502   \u251c\u2500\u2500 PetClinicApplication.java          # Clase principal de la aplicaci\xf3n\n\u2502   \u251c\u2500\u2500 model/                             # Entidades base\n\u2502   \u2502   \u251c\u2500\u2500 BaseEntity.java               # Clase base con ID\n\u2502   \u2502   \u251c\u2500\u2500 NamedEntity.java              # Clase base con nombre\n\u2502   \u2502   \u2514\u2500\u2500 Person.java                   # Clase base para personas\n\u2502   \u251c\u2500\u2500 owner/                             # M\xf3dulo de propietarios y mascotas\n\u2502   \u2502   \u251c\u2500\u2500 Owner.java                    # Entidad propietario\n\u2502   \u2502   \u251c\u2500\u2500 OwnerController.java          # Controlador REST/Web\n\u2502   \u2502   \u251c\u2500\u2500 OwnerRepository.java          # Acceso a datos\n\u2502   \u2502   \u251c\u2500\u2500 Pet.java                      # Entidad mascota\n\u2502   \u2502   \u251c\u2500\u2500 PetController.java            # Controlador de mascotas\n\u2502   \u2502   \u251c\u2500\u2500 PetType.java                  # Tipo de mascota\n\u2502   \u2502   \u251c\u2500\u2500 PetTypeFormatter.java         # Formateador personalizado\n\u2502   \u2502   \u251c\u2500\u2500 PetValidator.java             # Validador de mascota\n\u2502   \u2502   \u251c\u2500\u2500 Visit.java                    # Entidad visita/cita\n\u2502   \u2502   \u2514\u2500\u2500 VisitController.java          # Controlador de visitas\n\u2502   \u251c\u2500\u2500 vet/                               # M\xf3dulo de veterinarios\n\u2502   \u2502   \u251c\u2500\u2500 Vet.java                      # Entidad veterinario\n\u2502   \u2502   \u251c\u2500\u2500 VetController.java            # Controlador de veterinarios\n\u2502   \u2502   \u251c\u2500\u2500 VetRepository.java            # Acceso a datos\n\u2502   \u2502   \u251c\u2500\u2500 Specialty.java                # Especialidades veterinarias\n\u2502   \u2502   \u2514\u2500\u2500 Vets.java                     # Contenedor de veterinarios\n\u2502   \u2514\u2500\u2500 system/                            # M\xf3dulo del sistema\n\u2502       \u251c\u2500\u2500 CacheConfiguration.java       # Configuraci\xf3n de cach\xe9\n\u2502       \u251c\u2500\u2500 CrashController.java          # Controlador de errores\n\u2502       \u2514\u2500\u2500 WelcomeController.java        # Controlador de bienvenida\n\u251c\u2500\u2500 src/main/resources/\n\u2502   \u251c\u2500\u2500 templates/                         # Plantillas Thymeleaf\n\u2502   \u2502   \u251c\u2500\u2500 fragments/                    # Fragmentos reutilizables\n\u2502   \u2502   \u251c\u2500\u2500 owners/                       # Vistas de propietarios\n\u2502   \u2502   \u251c\u2500\u2500 pets/                         # Vistas de mascotas\n\u2502   \u2502   \u251c\u2500\u2500 vets/                         # Vistas de veterinarios\n\u2502   \u2502   \u251c\u2500\u2500 welcome.html                  # P\xe1gina de bienvenida\n\u2502   \u2502   \u2514\u2500\u2500 error.html                    # P\xe1gina de error\n\u2502   \u251c\u2500\u2500 db/                                # Scripts de base de datos\n\u2502   \u2502   \u251c\u2500\u2500 h2/                           # Scripts H2\n\u2502   \u2502   \u251c\u2500\u2500 mysql/                        # Scripts MySQL\n\u2502   \u2502   \u2514\u2500\u2500 postgres/                     # Scripts PostgreSQL\n\u2502   \u251c\u2500\u2500 static/                            # Recursos est\xe1ticos\n\u2502   \u2502   \u2514\u2500\u2500 resources/css/                # Estilos CSS compilados\n\u2502   \u251c\u2500\u2500 messages/                          # Mensajes de internacionalizaci\xf3n\n\u2502   \u2502   \u251c\u2500\u2500 messages.properties           # Mensajes por defecto\n\u2502   \u2502   \u251c\u2500\u2500 messages_en.properties        # Mensajes en ingl\xe9s\n\u2502   \u2502   \u251c\u2500\u2500 messages_es.properties        # Mensajes en espa\xf1ol\n\u2502   \u2502   \u2514\u2500\u2500 messages_de.properties        # Mensajes en alem\xe1n\n\u2502   \u2514\u2500\u2500 application.properties            # Configuraci\xf3n principal\n\u2514\u2500\u2500 src/test/java/                         # Tests de la aplicaci\xf3n"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\n## Arquitectura L\xf3gica\n\n### Capas de la Aplicaci\xf3n\n\n#### 1. **Capa de Presentaci\xf3n (Web)**\n- **Controladores**: `OwnerController`, `PetController`, `VisitController`, `VetController`\n- **Vistas Thymeleaf**: Plantillas HTML din\xe1micas\n- **Responsabilidad**: Manejo de solicitudes HTTP y renderizaci\xf3n de vistas\n\n#### 2. **Capa de L\xf3gica de Negocio**\n- **Validadores**: `PetValidator` para reglas de negocio\n- **Formateadores**: `PetTypeFormatter` para conversi\xf3n de datos\n- **Responsabilidad**: L\xf3gica de validaci\xf3n y transformaci\xf3n de datos\n\n#### 3. **Capa de Acceso a Datos**\n- **Repositorios**: `OwnerRepository`, `VetRepository`\n- **Tecnolog\xeda**: Spring Data JPA\n- **Responsabilidad**: Operaciones CRUD en la base de datos\n\n#### 4. **Capa de Modelo**\n- **Entidades**: `Owner`, `Pet`, `Visit`, `Vet`\n- **Clases Base**: `BaseEntity`, `NamedEntity`, `Person`\n- **Responsabilidad**: Representaci\xf3n de datos del negocio\n\n### M\xf3dulos Principales\n\n#### M\xf3dulo Owner (Propietarios y Mascotas)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Propietario (Owner)\n\u251c\u2500\u2500 Nombre, tel\xe9fono, direcci\xf3n\n\u251c\u2500\u2500 Relaci\xf3n: 1 a N con Mascotas\n\u2514\u2500\u2500 Mascotas (Pet)\n\u251c\u2500\u2500 Nombre, tipo, fecha de nacimiento\n\u251c\u2500\u2500 Relaci\xf3n: 1 a N con Visitas\n\u2514\u2500\u2500 Visitas (Visit)\n\u251c\u2500\u2500 Fecha, descripci\xf3n\n\u2514\u2500\u2500 Relaci\xf3n: N a 1 con Vet"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\n#### M\xf3dulo Vet (Veterinarios)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Veterinario (Vet)\n\u251c\u2500\u2500 Nombre\n\u251c\u2500\u2500 Especialidades (Specialty)\n\u2514\u2500\u2500 Relaci\xf3n: 1 a N con Visitas"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\n## Flujo de Datos\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Usuario\n\u2193\nNavegador (HTTP Request)\n\u2193\nSpring DispatcherServlet\n\u2193\nControlador (XxxController)\n\u2193\nValidador / Formateador\n\u2193\nRepositorio (Spring Data JPA)\n\u2193\nBase de Datos (H2/MySQL/PostgreSQL)\n\u2193\nRespuesta (Thymeleaf Template)\n\u2193\nNavegador (HTML)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\n## Caracter\xedsticas Principales\n\n### 1. **Gesti\xf3n de Propietarios**\n- Buscar propietarios\n- Crear/editar propietarios\n- Visualizar detalles del propietario\n- Gestionar mascotas del propietario\n\n### 2. **Gesti\xf3n de Mascotas**\n- Crear/editar mascotas\n- Validaci\xf3n de datos de mascotas\n- Visualizar informaci\xf3n de mascotas\n- Programar citas\n\n### 3. **Gesti\xf3n de Citas (Visitas)**\n- Crear citas para mascotas\n- Asignar veterinario\n- Registrar descripci\xf3n de la cita\n\n### 4. **Gesti\xf3n de Veterinarios**\n- Listar veterinarios disponibles\n- Mostrar especialidades\n- Visualizar citas asignadas\n\n### 5. **Configuraci\xf3n del Sistema**\n- **Cach\xe9**: Cach\xe9 en memoria para datos que no cambian frecuentemente (veterinarios, tipos de mascotas)\n- **Internacionalizaci\xf3n**: Soporte multiidioma (EN, ES, DE)\n- **Manejo de Errores**: P\xe1gina de error centralizada\n\n## Configuraci\xf3n de Base de Datos\n\n### H2 (Desarrollo por defecto)\n- Base de datos en memoria\n- Se reinicia con cada ejecuci\xf3n\n- Datos inicializados desde scripts SQL\n- Consola H2 disponible en: `http://localhost:8080/h2-console`\n\n### MySQL / PostgreSQL (Producci\xf3n)\n- Activar perfil: `spring.profiles.active=mysql` o `postgres`\n- Persistencia en base de datos externa\n- Scripts de inicializaci\xf3n espec\xedficos por proveedor\n\n## Tecnolog\xedas de Cach\xe9\n\n- **Cache Provider**: Configurable (ConcurrentHashMap por defecto)\n- **Objetos cacheados**: `PetType`, `Vet` (datos de referencia)\n- **Configuraci\xf3n**: `CacheConfiguration.java`\n\n## Seguridad\n\n- Validaci\xf3n de entrada en formularios\n- Validaci\xf3n del lado del servidor con Bean Validation\n- Protecci\xf3n contra inyecci\xf3n SQL (parametrizaci\xf3n en JPA)\n\n## Testing\n\n### Tipos de Tests\n- **Unit Tests**: Validadores, formateadores\n- **Integration Tests**: Controladores, repositorios\n- **Test Classes**: `PetClinicIntegrationTests`, `ClinicServiceTests`, `OwnerControllerTests`, etc.\n\n### Ejecuci\xf3n de Tests\n```bash\n./mvnw test\n"})}),"\n",(0,s.jsx)(n.h2,{id:"construcci\xf3n-y-despliegue",children:"Construcci\xf3n y Despliegue"}),"\n",(0,s.jsx)(n.h3,{id:"build-con-maven",children:"Build con Maven"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./mvnw clean package\n"})}),"\n",(0,s.jsx)(n.h3,{id:"build-con-gradle",children:"Build con Gradle"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./gradlew build\n"})}),"\n",(0,s.jsx)(n.h3,{id:"crear-imagen-docker",children:"Crear Imagen Docker"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./mvnw spring-boot:build-image\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ejecutar-aplicaci\xf3n",children:"Ejecutar Aplicaci\xf3n"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"java -jar target/spring-petclinic-2.7.1-SNAPSHOT.jar\n"})}),"\n",(0,s.jsx)(n.h2,{id:"propiedades-de-configuraci\xf3n",children:"Propiedades de Configuraci\xf3n"}),"\n",(0,s.jsxs)(n.h3,{id:"archivo-applicationproperties",children:["Archivo: ",(0,s.jsx)(n.code,{children:"application.properties"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"spring.jpa.database-platform"}),": Dialecto de Hibernate"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"spring.jpa.hibernate.ddl-auto"}),": Estrategia de generaci\xf3n de esquema"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"spring.datasource.url"}),": URL de conexi\xf3n de base de datos"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"spring.cache.type"}),": Tipo de cach\xe9 configurado"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"patterns-y-mejores-pr\xe1cticas",children:"Patterns y Mejores Pr\xe1cticas"}),"\n",(0,s.jsx)(n.h3,{id:"patrones-utilizados",children:"Patrones Utilizados"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MVC"}),": Separaci\xf3n entre Modelo, Vista y Controlador"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repository Pattern"}),": Abstracci\xf3n del acceso a datos"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DTO/Form Objects"}),": Objetos de transferencia de datos"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Singleton"}),": Beans de Spring (controladores, repositorios)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"mejores-pr\xe1cticas",children:"Mejores Pr\xe1cticas"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Inyecci\xf3n de dependencias mediante Spring"}),"\n",(0,s.jsx)(n.li,{children:"Separaci\xf3n de responsabilidades"}),"\n",(0,s.jsx)(n.li,{children:"Validaci\xf3n en m\xfaltiples capas"}),"\n",(0,s.jsx)(n.li,{children:"Reutilizaci\xf3n de plantillas (Thymeleaf fragments)"}),"\n",(0,s.jsx)(n.li,{children:"Internacionalizaci\xf3n de textos"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"puntos-de-extensi\xf3n",children:"Puntos de Extensi\xf3n"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Agregar nuevos m\xf3dulos"}),": Crear nuevos packages en ",(0,s.jsx)(n.code,{children:"owner"}),", ",(0,s.jsx)(n.code,{children:"vet"}),", o crear nuevos"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Extender validaciones"}),": A\xf1adir validadores personalizados"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Personalizar cach\xe9"}),": Modificar ",(0,s.jsx)(n.code,{children:"CacheConfiguration.java"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Agregar APIs REST"}),": Crear controladores adicionales"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cambiar persistencia"}),": Configurar diferentes bases de datos"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"contacto-y-referencias",children:"Contacto y Referencias"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repositorio"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/spring-projects/spring-petclinic",children:"https://github.com/spring-projects/spring-petclinic"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Documentaci\xf3n"}),": ",(0,s.jsx)(n.a,{href:"https://spring-petclinic.github.io/",children:"https://spring-petclinic.github.io/"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Issues"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/spring-projects/spring-petclinic/issues",children:"https://github.com/spring-projects/spring-petclinic/issues"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453(e,n,a){a.d(n,{R:()=>o,x:()=>t});var i=a(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);