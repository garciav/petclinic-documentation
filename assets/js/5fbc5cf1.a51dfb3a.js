"use strict";(globalThis.webpackChunktemp_docs=globalThis.webpackChunktemp_docs||[]).push([[7624],{6439(e,n,a){a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"api","title":"api","description":"\u25cf Explorar estructura Java","source":"@site/docs/api.md","sourceDirName":".","slug":"/api","permalink":"/petclinic-documentation/docs/api","draft":false,"unlisted":false,"editUrl":"https://github.com/garciav/petclinic-documentation/tree/main/docs/api.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Translate your site","permalink":"/petclinic-documentation/docs/tutorial-extras/translate-your-site"},"next":{"title":"arquitectura","permalink":"/petclinic-documentation/docs/arquitectura"}}');var i=a(4848),t=a(8453);const o={},s=void 0,d={},c=[];function l(e){const n={code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:'\u25cf Explorar estructura Java\n$ find ./source-code/src/main/java -type f -name "*.java" | head -50\n\u2514 24 lines...'}),"\n",(0,i.jsx)(n.p,{children:"\u25cf List directory source-code/src/main/java\n\u2514 7 files found"}),"\n",(0,i.jsx)(n.p,{children:'\u2717 Contar l\xedneas de c\xf3digo Java\n$ find ./source-code/src/main/java -type f -name "*.java" | xargs wc -l | tail -1\nPermission denied and could not request permission from user'}),"\n",(0,i.jsx)(n.p,{children:"\u2717 Leer archivos Java principales\n$ cat ./source-code/src/main/java/org/springframework/samples/petclinic/model/BaseEntity.java\n./source-code/src/main/java/org/springframework/samples/petclinic/model/NamedEntity.java\n./source-code/src/main/java/org/springframework/samples/petclinic/model/Person.java\n./source-code/src/main/java/org/springframework/samples/petclinic/owner/Owner.java\n./source-code/src/main/java/org/springframework/samples/petclinic/owner/Pet.java ...\nPermission denied and could not request permission from user"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf List directory source-code/src/main/java/org/springframework/samples/petclinic/model\n\u2514 10 files found"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/model/BaseEntity.java\n\u2514 56 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/model/NamedEntity.java\n\u2514 52 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/model/Person.java\n\u2514 72 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/Owner.java\n\u2514 178 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/Pet.java\n\u2514 89 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/Visit.java\n\u2514 73 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/PetType.java\n\u2514 35 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/vet/Vet.java\n\u2514 84 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/vet/Specialty.java\n\u2514 37 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/OwnerController.java\n\u2514 172 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/PetController.java\n\u2514 120 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/VisitController.java\n\u2514 98 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/vet/VetController.java\n\u2514 84 lines read"}),"\n",(0,i.jsx)(n.p,{children:"\u25cf Read source-code/src/main/java/org/springframework/samples/petclinic/owner/OwnerRepository.java\n\u2514 87 lines read"}),"\n",(0,i.jsx)(n.p,{children:"Ahora genero la referencia de API en Markdown:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:'# Referencia de API - PetClinic\n\n## Modelos de Dominio\n\n### BaseEntity\nClase base para todas las entidades con propiedad de identificador.\n\n**Propiedades:**\n- `id: Integer` - Identificador \xfanico (auto-generado)\n\n**M\xe9todos:**\n- `Integer getId()` - Obtiene el ID de la entidad\n- `void setId(Integer id)` - Establece el ID de la entidad\n- `boolean isNew()` - Verifica si la entidad es nueva (ID nulo)\n\n---\n\n### NamedEntity\nExtiende `BaseEntity` y agrega la propiedad de nombre.\n\n**Propiedades:**\n- `id: Integer` - (heredado de BaseEntity)\n- `name: String` - Nombre de la entidad\n\n**M\xe9todos:**\n- `String getName()` - Obtiene el nombre\n- `void setName(String name)` - Establece el nombre\n- `String toString()` - Retorna la representaci\xf3n en texto (nombre)\n\n---\n\n### Person\nExtiende `BaseEntity` y representa una persona.\n\n**Propiedades:**\n- `id: Integer` - (heredado de BaseEntity)\n- `firstName: String` - Nombre (requerido)\n- `lastName: String` - Apellido (requerido)\n- `customerDocumentId: String` - ID de documento del cliente\n- `gender: String` - G\xe9nero\n\n**M\xe9todos:**\n- `String getFirstName()` / `void setFirstName(String firstName)`\n- `String getLastName()` / `void setLastName(String lastName)`\n- `String getCustomerDocumentId()` / `void setCustomerDocumentId(String id)`\n\n---\n\n## M\xf3dulo Owner (Propietarios)\n\n### Owner\nExtiende `Person` y representa un propietario de mascotas.\n\n**Tabla Base:** `owners`\n\n**Propiedades:**\n- `id: Integer` - (heredado)\n- `firstName: String` - (heredado)\n- `lastName: String` - (heredado)\n- `address: String` - Direcci\xf3n (requerida)\n- `city: String` - Ciudad (requerida)\n- `telephone: String` - Tel\xe9fono (requerido, m\xe1x 10 d\xedgitos)\n- `pets: List<Pet>` - Lista de mascotas asociadas\n\n**M\xe9todos:**\n- `String getAddress()` / `void setAddress(String address)`\n- `String getCity()` / `void setCity(String city)`\n- `String getTelephone()` / `void setTelephone(String telephone)`\n- `List<Pet> getPets()` - Obtiene todas las mascotas\n- `void addPet(Pet pet)` - Agrega una mascota nueva\n- `Pet getPet(String name)` - Obtiene mascota por nombre\n- `Pet getPet(Integer id)` - Obtiene mascota por ID\n- `Pet getPet(String name, boolean ignoreNew)` - Obtiene mascota por nombre (opci\xf3n de ignorar nuevas)\n- `Owner addVisit(Integer petId, Visit visit)` - Agrega una visita a una mascota\n\n**Relaciones:**\n- `1:N` con `Pet` (cascade: ALL, fetch: EAGER)\n\n---\n\n### Pet\nExtiende `NamedEntity` y representa una mascota.\n\n**Tabla Base:** `pets`\n\n**Propiedades:**\n- `id: Integer` - (heredado)\n- `name: String` - (heredado)\n- `birthDate: LocalDate` - Fecha de nacimiento (formato: yyyy-MM-dd)\n- `type: PetType` - Tipo de mascota\n- `visits: Set<Visit>` - Conjunto de visitas asociadas\n\n**M\xe9todos:**\n- `LocalDate getBirthDate()` / `void setBirthDate(LocalDate birthDate)`\n- `PetType getType()` / `void setType(PetType type)`\n- `Collection<Visit> getVisits()` - Obtiene todas las visitas\n- `void addVisit(Visit visit)` - Agrega una visita\n\n**Relaciones:**\n- `N:1` con `PetType`\n- `1:N` con `Visit` (cascade: ALL, fetch: EAGER)\n\n---\n\n### PetType\nExtiende `NamedEntity` y representa el tipo de mascota.\n\n**Tabla Base:** `types`\n\n**Propiedades:**\n- `id: Integer` - (heredado)\n- `name: String` - Nombre del tipo (ej: Cat, Dog, Hamster)\n\n---\n\n### Visit\nExtiende `BaseEntity` y representa una visita veterinaria.\n\n**Tabla Base:** `visits`\n\n**Propiedades:**\n- `id: Integer` - (heredado)\n- `date: LocalDate` - Fecha de la visita (formato: yyyy-MM-dd, por defecto: hoy)\n- `description: String` - Descripci\xf3n de la visita (requerida)\n\n**M\xe9todos:**\n- `LocalDate getDate()` / `void setDate(LocalDate date)`\n- `String getDescription()` / `void setDescription(String description)`\n\n**Constructor:**\n- `Visit()` - Crea una visita con la fecha actual\n\n---\n\n## M\xf3dulo Vet (Veterinarios)\n\n### Vet\nExtiende `Person` y representa un veterinario.\n\n**Tabla Base:** `vets`\n\n**Propiedades:**\n- `id: Integer` - (heredado)\n- `firstName: String` - (heredado)\n- `lastName: String` - (heredado)\n- `specialties: Set<Specialty>` - Conjunto de especialidades\n\n**M\xe9todos:**\n- `List<Specialty> getSpecialties()` - Obtiene especialidades ordenadas por nombre\n- `int getNrOfSpecialties()` - Cuenta el n\xfamero de especialidades\n- `void addSpecialty(Specialty specialty)` - Agrega una especialidad\n\n**Relaciones:**\n- `N:N` con `Specialty` (tabla: vet_specialties, fetch: EAGER)\n\n---\n\n### Specialty\nExtiende `NamedEntity` y representa la especialidad de un veterinario.\n\n**Tabla Base:** `specialties`\n\n**Propiedades:**\n- `id: Integer` - (heredado)\n- `name: String` - Nombre de la especialidad (ej: dentistry)\n\n---\n\n## Repositorios\n\n### OwnerRepository\nInterfaz de acceso a datos para entidades `Owner`.\n\n**M\xe9todos:**\n\n#### `List<PetType> findPetTypes()`\nRecupera todos los tipos de mascota ordenados por nombre.\n\n**Par\xe1metros:** Ninguno\n\n**Retorna:** `List<PetType>` - Lista de tipos de mascotas\n\n**Propiedades:** Solo lectura, transaccional\n\n---\n\n#### `Page<Owner> findByLastName(String lastName, Pageable pageable)`\nBusca propietarios por apellido (b\xfasqueda por prefijo).\n\n**Par\xe1metros:**\n- `lastName: String` - Apellido a buscar (b\xfasqueda comienza con este valor)\n- `pageable: Pageable` - Informaci\xf3n de paginaci\xf3n\n\n**Retorna:** `Page<Owner>` - P\xe1gina de propietarios coincidentes\n\n**Propiedades:** Solo lectura, transaccional\n\n---\n\n#### `Owner findById(Integer id)`\nObtiene un propietario por su ID.\n\n**Par\xe1metros:**\n- `id: Integer` - ID del propietario\n\n**Retorna:** `Owner` - El propietario encontrado (con mascotas cargadas)\n\n**Propiedades:** Solo lectura, transaccional\n\n---\n\n#### `void save(Owner owner)`\nGuarda o actualiza un propietario.\n\n**Par\xe1metros:**\n- `owner: Owner` - Propietario a guardar\n\n**Retorna:** Ninguno\n\n---\n\n#### `Page<Owner> findAll(Pageable pageable)`\nObtiene todos los propietarios con paginaci\xf3n.\n\n**Par\xe1metros:**\n- `pageable: Pageable` - Informaci\xf3n de paginaci\xf3n\n\n**Retorna:** `Page<Owner>` - P\xe1gina de propietarios\n\n**Propiedades:** Solo lectura, transaccional\n\n---\n\n## Controladores\n\n### OwnerController\nControlador MVC para gestionar operaciones con propietarios.\n\n**Rutas:**\n\n#### `GET /owners/new`\nInicializa el formulario de creaci\xf3n de propietario.\n\n**Retorna:** Vista `owners/createOrUpdateOwnerForm`\n\n---\n\n#### `POST /owners/new`\nProcesa la creaci\xf3n de un nuevo propietario.\n\n**Par\xe1metros:**\n- `owner: Owner` - Propietario a crear (validado)\n- `result: BindingResult` - Resultado de validaci\xf3n\n\n**Retorna:** Vista de formulario si hay errores, redirige a `/owners/\\{id} si \xe9xito\n\n---\n\n#### `GET /owners/find`\nInicializa el formulario de b\xfasqueda de propietarios.\n\n**Retorna:** Vista `owners/findOwners`\n\n---\n\n#### `GET /owners`\nBusca propietarios por apellido con paginaci\xf3n.\n\n**Par\xe1metros:**\n- `page: int` - N\xfamero de p\xe1gina (default: 1)\n- `owner: Owner` - Propietario con criterios de b\xfasqueda\n- `result: BindingResult` - Resultado de validaci\xf3n\n- `model: Model` - Modelo de vista\n\n**Retorna:** \n- Vista de formulario si no hay resultados\n- Redirige a `/owners/\\{id} si encuentra exactamente 1\n- Vista `owners/ownersList` si hay m\xfaltiples resultados\n\n---\n\n#### `GET /owners/\\{ownerId\\}/edit`\nInicializa el formulario de edici\xf3n de propietario.\n\n**Par\xe1metros:**\n- `ownerId: int` - ID del propietario\n- `model: Model` - Modelo de vista\n\n**Retorna:** Vista `owners/createOrUpdateOwnerForm`\n\n---\n\n#### `POST /owners/\\{ownerId\\}/edit`\nProcesa la actualizaci\xf3n de un propietario.\n\n**Par\xe1metros:**\n- `owner: Owner` - Propietario actualizado (validado)\n- `result: BindingResult` - Resultado de validaci\xf3n\n- `ownerId: int` - ID del propietario\n\n**Retorna:** Vista de formulario si hay errores, redirige a `/owners/\\{ownerId} si \xe9xito\n\n---\n\n#### `GET /owners/\\{ownerId}\nMuestra los detalles de un propietario.\n\n**Par\xe1metros:**\n- `ownerId: int` - ID del propietario\n\n**Retorna:** ModelAndView con vista `owners/ownerDetails`\n\n---\n\n### PetController\nControlador MVC para gestionar mascotas de propietarios.\n\n**Ruta Base:** `/owners/\\{ownerId}\n\n**M\xe9todos Auxiliares:**\n\n#### `@ModelAttribute("types")`\nCarga todos los tipos de mascota disponibles.\n\n**Retorna:** `Collection<PetType>`\n\n---\n\n#### `@ModelAttribute("owner")`\nCarga el propietario basado en ownerId.\n\n**Retorna:** `Owner`\n\n---\n\n#### `@ModelAttribute("pet")`\nCarga o crea una mascota.\n\n**Par\xe1metros:**\n- `ownerId: int`\n- `petId: Integer` (opcional)\n\n**Retorna:** `Pet` (nueva o existente)\n\n---\n\n**Rutas:**\n\n#### `GET /owners/\\{ownerId\\}/pets/new`\nInicializa el formulario de creaci\xf3n de mascota.\n\n**Retorna:** Vista `pets/createOrUpdatePetForm`\n\n---\n\n#### `POST /owners/\\{ownerId\\}/pets/new`\nProcesa la creaci\xf3n de una nueva mascota.\n\n**Par\xe1metros:**\n- `owner: Owner`\n- `pet: Pet` - Mascota a crear (validada)\n- `result: BindingResult`\n- `model: ModelMap`\n\n**Retorna:** Vista de formulario si hay errores o duplicado, redirige a `/owners/\\{ownerId} si \xe9xito\n\n---\n\n#### `GET /owners/\\{ownerId\\}/pets/\\{petId\\}/edit`\nInicializa el formulario de edici\xf3n de mascota.\n\n**Par\xe1metros:**\n- `owner: Owner`\n- `petId: int`\n- `model: ModelMap`\n\n**Retorna:** Vista `pets/createOrUpdatePetForm`\n\n---\n\n#### `POST /owners/\\{ownerId\\}/pets/\\{petId\\}/edit`\nProcesa la actualizaci\xf3n de una mascota.\n\n**Par\xe1metros:**\n- `pet: Pet` - Mascota actualizada (validada)\n- `result: BindingResult`\n- `owner: Owner`\n- `model: ModelMap`\n\n**Retorna:** Vista de formulario si hay errores, redirige a `/owners/\\{ownerId} si \xe9xito\n\n---\n\n### VisitController\nControlador MVC para gestionar visitas veterinarias.\n\n**Ruta Base:** `/owners/\\{ownerId\\}/pets/\\{petId}\n\n**M\xe9todos Auxiliares:**\n\n#### `@ModelAttribute("visit")`\nCarga o crea una visita asociada a una mascota.\n\n**Par\xe1metros:**\n- `ownerId: int`\n- `petId: int`\n- `model: Map<String, Object>`\n\n**Retorna:** `Visit` (nueva)\n\n---\n\n**Rutas:**\n\n#### `GET /owners/\\{ownerId\\}/pets/\\{petId\\}/visits/new`\nInicializa el formulario de creaci\xf3n de visita.\n\n**Par\xe1metros:**\n- `petId: int`\n- `model: Map<String, Object>`\n\n**Retorna:** Vista `pets/createOrUpdateVisitForm`\n\n---\n\n#### `POST /owners/\\{ownerId\\}/pets/\\{petId\\}/visits/new`\nProcesa la creaci\xf3n de una nueva visita.\n\n**Par\xe1metros:**\n- `owner: Owner`\n- `petId: int`\n- `visit: Visit` - Visita a crear (validada)\n- `result: BindingResult`\n\n**Retorna:** Vista de formulario si hay errores, redirige a `/owners/\\{ownerId} si \xe9xito\n\n---\n\n### VetController\nControlador MVC para gestionar veterinarios.\n\n**Rutas:**\n\n#### `GET /vets.html`\nMuestra la lista de veterinarios con paginaci\xf3n (HTML).\n\n**Par\xe1metros:**\n- `page: int` - N\xfamero de p\xe1gina (default: 1)\n- `model: Model` - Modelo de vista\n\n**Retorna:** Vista `vets/vetList` con paginaci\xf3n\n\n---\n\n#### `GET /vets`\nRetorna la lista de veterinarios en formato JSON/XML.\n\n**Retorna:** `Vets` (contenedor de lista de veterinarios) - Serializable a JSON/XML\n\n---\n\n## Validaciones\n\n### Anotaciones de Validaci\xf3n Utilizadas:\n\n- `@NotEmpty` - Campo requerido (no vac\xedo)\n- `@Digits(fraction = 0, integer = 10)` - N\xfamero espec\xedfico de d\xedgitos (tel\xe9fono)\n- `@DateTimeFormat(pattern = "yyyy-MM-dd")` - Formato de fecha\n\n### Validadores Personalizados:\n\n- `PetValidator` - Valida que una mascota sea v\xe1lida en el contexto de su propietario\n'})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453(e,n,a){a.d(n,{R:()=>o,x:()=>s});var r=a(6540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);